<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dynamic Menu Selector</title>
	<style>
		body {
			margin: 0;
			font-family: Arial, sans-serif;
			background-color: #222;
			color: #fff;
		}

		.menu {
			align-items: center;
			background-color: #222;
			display: flex;
			height: 30px;
			justify-content: space-around;
			padding: 15px 0;
			position: relative;
			width: 758.75px;
			/* You have to set the width of the menu individually: [amount of menu-items] x ["data-width" of the menu-items]*/
		}

		.menu-item {
			font-size: 14px;
			color: #888;
			cursor: pointer;
			height: 30px;
			text-align: center;
		}

		.menu-item-inner {
			height: 15.75px;
			padding: 7.125px;
		}

		.menu-item.active,
		.menu-item:hover {
			color: #fff;
		}

		.css-bottom_1px-line {
			position: absolute;
			bottom: 0;
			left: 0;
			height: 2px;
			background-color: #fff;
			transition: transform 0.3s ease, width 0.3s ease;
		}

	</style>
</head>

<body>
	<div class="menu">
		<div class="menu-item" data-width="151.75" style="width: 151.75px;">
			<div class="menu-item-inner">
				<a>Menu Item 1</a>
			</div>
		</div>
		<div class="menu-item" data-width="151.75" style="width: 151.75px;">
			<div class="menu-item-inner">
				<a>Menu Item 2</a>
			</div>
		</div>
		<div class="menu-item" data-width="151.75" style="width: 151.75px;">
			<div class="menu-item-inner">
				<a>Menu Item 3</a>
			</div>
		</div>
		<div class="menu-item" data-width="151.75" style="width: 151.75px;">
			<div class="menu-item-inner">
				<a>Menu Item 4</a>
			</div>
		</div>
		<div class="menu-item" data-width="151.75" style="width: 151.75px;">
			<div class="menu-item-inner">
				<a>Menu Item 5</a>
			</div>
		</div>
		<div class="css-bottom_1px-line"></div>
	</div>

	<script>
		document.addEventListener("DOMContentLoaded", () => {
			const menuItems = document.querySelectorAll(".menu-item");
			const bottomLine = document.querySelector(".css-bottom_1px-line");

			const updateLinePosition = (item) => {
				const width = item.getAttribute("data-width") + "px";
				const rect = item.getBoundingClientRect();
				const offset = rect.left + window.scrollX + "px";
				bottomLine.style.width = width;
				bottomLine.style.transform = `translateX(${offset})`;
			};

			const setActiveMenuItemFromURL = () => {
				const path = window.location.pathname;

				// Set the active menu item based on the URL path
				// Enter your url paths here
				// Example: if your domain is "example.com" and you have menu items like "/menu-item-1", "/menu-item-2", etc. you need to add the sites "example.com/menu-item-1", "example.com/menu-item-2", etc. to the if statements below
				// You also have to add the navbar to the pages listed below
				
				let activeItem;
				if (path === "/menu-item-1") {
					activeItem = menuItems[0];
				} else if (path === "/menu-item-2") {
					activeItem = menuItems[1];
				} else if (path === "/menu-item-3") {
					activeItem = menuItems[2];
				} else if (path === "/menu-item-4") {
					activeItem = menuItems[3];
				} else if (path === "/menu-item-5") {
					activeItem = menuItems[4];
				}

				if (activeItem) {
					menuItems.forEach(item => item.classList.remove("active"));
					activeItem.classList.add("active");
					updateLinePosition(activeItem);
				}
			};

			menuItems.forEach(item => {
				item.addEventListener("mouseenter", () => {
					updateLinePosition(item);
				});

				item.addEventListener("mouseleave", () => {
					const activeItem = document.querySelector(".menu-item.active");
					if (activeItem) {
						updateLinePosition(activeItem);
					}
				});

				item.addEventListener("click", () => {
					menuItems.forEach(i => i.classList.remove("active"));
					item.classList.add("active");
					updateLinePosition(item);
				});
			});

			setActiveMenuItemFromURL();
		});

	</script>
</body>
</html>